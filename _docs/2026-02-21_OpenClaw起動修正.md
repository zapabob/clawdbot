# 2026-02-21 OpenClaw 起動修正

## 概要

`Desktop\OpenClaw.lnk` から `npm start` で起動した際に exit 1 になる問題を修正した。

---

## 原因

`package.json` の `start` スクリプトが `node scripts/run-node.mjs` だけで
**gatewayサブコマンドが含まれていなかった**。
引数なし = ヘルプ表示 → exit 1。

また `OpenClaw-Launcher.ps1` Button1 が呼ぶ `start-mcp.js` が存在しなかった。

---

## 変更内容

### 1. package.json L99

```diff
- "start": "node scripts/run-node.mjs"
+ "start": "node scripts/run-node.mjs gateway --force"
```

`--force` でポート競合時に既存プロセスを終了してから起動する。

### 2. start-mcp.js [NEW]

`OpenClaw-Launcher.ps1` Button1 (`Gateway + MCP`) が呼ぶエントリポイント。
`scripts/run-node.mjs gateway --force` を子プロセスとして起動する。

---

## 検証

- `npm start` → `openclaw gateway --force` が正常起動するようになった
- `Desktop\OpenClaw.lnk` → `OpenClaw-Launcher.bat` → `ps1 Button1` → `start-mcp.js` の経路が完成

## コミット

`fa2a4365c` fix: npm start now launches gateway --force; add start-mcp.js
